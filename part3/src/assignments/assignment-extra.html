<!DOCTYPE html>
<html>
<head>
  <title>./part3/src/assignments/assignment-extra.md</title>
  <link rel="stylesheet" href="../../../github-markdown.css">
</head>
<body>
<h1>
<a id="user-content-extra-exercise-building-hoc" class="anchor" href="#extra-exercise-building-hoc" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXTRA-EXERCISE. Building HOC</h1>
<p>Let's try implementing our own Higher Order Component!
We'll try reimplementing the withScroll HOC from the previous exercise.</p>
<h2>
<a id="user-content-exercise-a" class="anchor" href="#exercise-a" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE A</h2>
<p>Click the "Extra Exercise" on the sidebar.
Check that the component in <code>ExtraAssignment.js</code> is displayed</p>
<h2>
<a id="user-content-exercise-b" class="anchor" href="#exercise-b" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE B:</h2>
<p>A HOC is a function that takes in a Component and returns another one.
The first step is to create a function that takes in a component, and returns the same component</p>
<ul>
<li>Take in <code>WrappedComponent</code> as a parameter in <code>withScroll</code>
</li>
<li>Return <code>WrappedComponent</code> without doing nothing to it.</li>
</ul>
<h2>
<a id="user-content-exercise-c" class="anchor" href="#exercise-c" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE C:</h2>
<p>Let's make sure to export the HOC component.</p>
<ul>
<li>Rename <code>ExtraAssignment</code> to <code>BaseExtraAssignment</code>
</li>
<li>Remove the <code>export</code> in front of the class</li>
<li>Below everything, add:</li>
</ul>
<div class="highlight highlight-source-js"><pre>  <span class="pl-k">export</span> <span class="pl-k">const</span> <span class="pl-c1">ExtraAssignment</span> <span class="pl-k">=</span> <span class="pl-en">withScroll</span>(BaseExtraAssignment)</pre></div>
<p>Note here that components aren't very "magic"
We can take components in as parameters, and return them from
functions.</p>
<p>However, how do we <em>do</em> something with the component?
The answer is - we don't! We return a <em>new</em> component that
wraps the old one.</p>
<h2>
<a id="user-content-exercise-d" class="anchor" href="#exercise-d" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE D:</h2>
<p>So let's try returning a Class-Based Component instead!</p>
<p>Inside your <code>withScroll</code> function define a class, call it <code>OuterComponent</code>:</p>
<p>Return some random text from the render method.</p>
<p>Return this class you've just created.</p>
<p>Tip: If you're confused, just define it exactly the way <code>BaseExtraAssignment</code> is
defined below.</p>
<h2>
<a id="user-content-exercise-e" class="anchor" href="#exercise-e" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE E</h2>
<p>Now, let's return the <code>&lt;WrappedComponent/&gt;</code> from our render method
You can use the <code>&lt;WrappedComponent/&gt;</code> you get as a parameter, just like any other Component
you would import from somewhere.</p>
<p>You will notice the props are missing from the component</p>
<h2>
<a id="user-content-exercise-f" class="anchor" href="#exercise-f" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE F:</h2>
<p>We need to pass down props to the <code>&lt;WrappedComponent /&gt;</code></p>
<p>We can do it by writing like this in the render method:
<code>&lt;WrappedComponent {...this.props} /&gt;</code></p>
<p>This takes all the props the HOC was given, and passes them to the <code>WrappedComponent</code>.</p>
<p>Pass down the props to the <code>WrappedComponent</code>, and ensure they're displayed.</p>
<p>**
Tip: If you're confused by the {...props} line, it's a spread operator.
Feel free to ask about it - you can also read more info here:
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="nofollow">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax</a>
**</p>
<p>Now we've actually got a proper class-based Higher-Order Component. We can do anything with this
component we'd normally do, including setting state, and getting props.</p>
<p>Let's pass some extra props to our <code>WrappedComponent</code>. Let's just start off by hard-coding the props <code>x</code> and <code>y</code></p>
<h2>
<a id="user-content-exercise-h" class="anchor" href="#exercise-h" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE H:</h2>
<p>Render the WrappedComponent like this:</p>
<div class="highlight highlight-source-js-jsx"><pre>&lt;<span class="pl-ent">WrappedComponent</span> <span class="pl-e">x</span><span class="pl-k">=</span><span class="pl-pse">{</span><span class="pl-c1">0</span><span class="pl-pse">}</span> <span class="pl-e">y</span><span class="pl-k">=</span><span class="pl-pse">{</span><span class="pl-c1">0</span><span class="pl-pse">}</span> <span class="pl-pse">{</span><span class="pl-k">...</span><span class="pl-smi">props</span><span class="pl-pse">}</span> /&gt;</pre></div>
<p>Display both the x and the y prop inside the BaseExtraAssignment</p>
<h2>
<a id="user-content-exercise-i" class="anchor" href="#exercise-i" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE I:</h2>
<p>Now all that's left to do, is get the scroll position into the state, and pass that as the x and y
props. This is exactly like we implemented it in part 1</p>
<p>In the OuterComponent:</p>
<ul>
<li>Create <code>x</code> and <code>y</code> in the state, set them to 0 to start</li>
<li>Create a <code>scrollHandle</code> function inside the class.</li>
<li>Have the <code>scrollHandle</code> function, set the state to <code>window.scrollX</code> and <code>window.scrollY</code>
</li>
<li>Attach a <code>scrollHandle</code> as a scrollListener in <code>componentDidMount</code>
</li>
<li>Stop listening in <code>componentWillUnmount</code>
</li>
<li>Pass the <code>x</code> and <code>y</code> of the state, down into the wrappedComponent</li>
</ul>
<p>Now you've (basically) implemented the withScroll component of react-fns.
If you want, you can try using your withScroll on the HeroList, to see if it works.</p>

</body>
</html>
