<!DOCTYPE html>
<html>
<head>
  <title>./part3/assignments/assignment-1.md</title>
  <link rel="stylesheet" href="../../github-markdown.css">
</head>
<body>
<h1>
<a id="user-content-assignment-1---listening-for-the-scrolls" class="anchor" href="#assignment-1---listening-for-the-scrolls" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ASSIGNMENT 1 - LISTENING FOR THE SCROLLS</h1>
<p>In this exercise we'll try implementing some
behaviour, and in the next exercise we'll use a
Higher-Order Component to achieve the same result.</p>
<h2>
<a id="user-content-exercise-a" class="anchor" href="#exercise-a" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE A:</h2>
<p>Switch to the part 2 directory in your terminal and run "npm start"
<em>If you get a <code>ENOENT</code> error, try running "npm install" first</em></p>
<h2>
<a id="user-content-exercise-b" class="anchor" href="#exercise-b" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE B:</h2>
<p>We want to make the background of the document
more golden the further down the user scrolls.
More awesome heroes = more gold!</p>
<p>We need to listen to the scroll event.
Inside the <code>componentDidMount()</code> lifecycle method
of your HeroList, add the following line:
<code>window.addEventListener('scroll', console.log);</code></p>
<p>Make sure you can see the scroll events in the console,
when you scroll up and down your HeroList.</p>
<h2>
<a id="user-content-exercise-c" class="anchor" href="#exercise-c" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE C</h2>
<p>Create a new function inside your HeroList
called <code>onScroll</code>. Have this function <code>console.log("scrolled")</code></p>
<p>Change the <code>addEventListener</code> call, from <code>console.log</code>, to <code>this.onScroll</code>
Ensure it logs "scrolled"</p>
<h2>
<a id="user-content-exercise-d" class="anchor" href="#exercise-d" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE D:</h2>
<p>Now, try to go to the <strong>Theming</strong> page, and scroll down.
You will still see new scroll events in your console!
When using <code>addEventListener()</code> in JavaScript, the eventListener,
stay on, until the page changes.
As React never "changes" the page, we have to remove the <code>eventListener</code> manually</p>
<p>We can do this in the lifecycle method <code>componentWillUnmount</code>
Implement <code>componentWillUnmount()</code> and have it <code>console.log("Goodbye")</code>
Click around to get a feel for when it is called.</p>
<h2>
<a id="user-content-exercise-e" class="anchor" href="#exercise-e" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE E:</h2>
<p>Now let's unsubscribe from scroll events in our <code>componentWillUnmount()</code> like this:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">window</span>.<span class="pl-c1">removeEventListener</span>(<span class="pl-s"><span class="pl-pds">'</span>scroll<span class="pl-pds">'</span></span>, <span class="pl-c1">this</span>.<span class="pl-smi">onScroll</span>)</pre></div>
<p>Now we should get scroll events inside our HeroList, but not in <strong>Theming</strong></p>
<h2>
<a id="user-content-exercise-f" class="anchor" href="#exercise-f" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EXERCISE F:</h2>
<p>We need the scroll position inside our render method.
That means we have to put it in <code>state</code></p>
<ul>
<li>Add a "scrollPosition" key to the state. Have it be 0 as a default.</li>
<li>Inside your onScroll function, call setState with the new scroll position.
<ul>
<li>You can access the position through <code>window.scrollY</code>
</li>
</ul>
</li>
<li>Below your list, display <code>this.state.scrollPosition</code> from state.</li>
</ul>

</body>
</html>
